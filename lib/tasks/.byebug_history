c
n
value
exit
smart_push_words
n
exit
for i in 0..3
smart_push_words[0]
smart_push_words
n
smart_push_words
exit
c
value
c
value
c
value
c
smart_push_words
n
exit
smart_push_words = SmartPushWord.where('created_at > ?', now.ago(600)).group('word').order('count_id desc').count('id')
smart_push_words
n
exit
c
exit
n
value
exit
c
n
exit
n
check_data
exit
n
check_data
c
n
check_data
exit
check_data
n
exit
c
n
c
url
title
sns_id
user_ids
n
exit
c
exit
c
user_ids
n
user_id
n
exit
c
title
n
user_ids
n
exit
n
sns_id
n
user_ids
n
search_time
n
exit
n
user_id
n
comment_push_list
n
exit
user_ids = User.where("is_push_off_time = ? and (push_off_start_time > ? and push_off_end_time < ?) and id = ?", false, search_time, search_time, user_id).pluck(:id)
user_ids = User.where("is_push_off_time = ? and push_off_start_time < ? and push_off_end_time > ? and id = ?", true, search_time, search_time, user_id).pluck(:id)
user_ids
n
user_id
n
comment_push_list
n
exit
c
n
self
c
self
exit
self.writer
self
n
c
n
self
exit
self
c
n
self
c
self
c
self
c
self
c
self
c
self
c
self
exit
rciy
n
users
n
self.writer
n
self
c
self
exit
c
comment_push_list = CommentPushList.create(user_id: u.id)
u.id
exit
user
user.id
unless user.blank?
unless user.blank? push_list = CommentPushList.create(user_id: user.id) end
unless user.blank?
user.blank?
user
push_list
self.writer
c
self.writer
c
self.writer
c
self.writer
c
self.writer
c
self.writer
c
self.writer
c
self.writer
c
self.writer
exit
n
self.writer
c
self.writer
c
self.writer
c
self.writer
c
self.writer
c
self.writer
c
self.writer
c
self.writer
c
self.writer
c
self.writer
c
self.writer
c
self.writer
c
self.writer
exit
push_list
n
self.writer
c
self.writer
c
self.writer
c
self.writer
c
self.writer
c
self.writer
c
self.writer
exit
c
self.writer
c
self.writer
c
self.writer
c
self.writer
c
self.writer
c
n
user
n
self.writer
exit
c
self.writer
user = User.where(is_push_comment: true, nick_name: self.writer)
c
n
user = User.where(is_push_comment: true, nick_name: self.writer)
self.writer
nick_name
user
n
c
exit
c
PpomppuFreeboardWord.create(sns_content_id: sns_content_id, word: t) if t.strip! != ""
c
PpomppuFreeboardWord.create(sns_content_id: sns_content_id, word: t) if t.strip! != ""
c
PpomppuFreeboardWord.create(sns_content_id: sns_content_id, word: t) if t.strip! != ""
c
PpomppuFreeboardWord.create(sns_content_id: sns_content_id, word: t) if t.strip! != ""
c
exit
c
n
title
n
c
exit
user_ids
user_ids = user_ids - del_user_ids - del_user_ids2
user_ids
user_ids = del_user_ids - del_user_ids2
del_user_ids2
del_user_ids
